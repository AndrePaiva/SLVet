(function(e,t,n){var r=function(t,n){"use strict";var r=function(e,n){var i=this;if(!this instanceof r){alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.");return}if(typeof n=="undefined"){n={}}if(t.fn.dataTable.camelToHungarian){t.fn.dataTable.camelToHungarian(r.defaults,n)}var s=t.fn.dataTable.Api?(new t.fn.dataTable.Api(e)).settings()[0]:e.fnSettings();this.s={dt:s,iTableColumns:s.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]};this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}};s._oFixedColumns=this;if(!s._bInitComplete){s.oApi._fnCallbackReg(s,"aoInitComplete",function(){i._fnConstruct(n)},"FixedColumns")}else{this._fnConstruct(n)}};r.prototype={fnUpdate:function(){this._fnDraw(true)},fnRedrawLayout:function(){this._fnColCalc();this._fnGridLayout();this.fnUpdate()},fnRecalculateHeight:function(e){delete e._DTTC_iHeight;e.style.height="auto"},fnSetRowHeight:function(e,t){e.style.height=t+"px"},fnGetPosition:function(e){var n;var r=this.s.dt.oInstance;if(!t(e).parents(".DTFC_Cloned").length){return r.fnGetPosition(e)}else{if(e.nodeName.toLowerCase()==="tr"){n=t(e).index();return r.fnGetPosition(t("tr",this.s.dt.nTBody)[n])}else{var i=t(e).index();n=t(e.parentNode).index();var s=r.fnGetPosition(t("tr",this.s.dt.nTBody)[n]);return[s,i,r.oApi._fnVisibleToColumnIndex(this.s.dt,i)]}}},_fnConstruct:function(n){var i,s,o,u=this;if(typeof this.s.dt.oInstance.fnVersionCheck!="function"||this.s.dt.oInstance.fnVersionCheck("1.8.0")!==true){alert("FixedColumns "+r.VERSION+" required DataTables 1.8.0 or later. "+"Please upgrade your DataTables installation");return}if(this.s.dt.oScroll.sX===""){this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no "+"x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for "+"column fixing when scrolling is not enabled");return}this.s=t.extend(true,this.s,r.defaults,n);var a=this.s.dt.oClasses;this.dom.grid.dt=t(this.s.dt.nTable).parents("div."+a.sScrollWrapper)[0];this.dom.scroller=t("div."+a.sScrollBody,this.dom.grid.dt)[0];this._fnColCalc();this._fnGridSetup();var f;t(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){f="main"}).on("scroll.DTFC",function(){if(f==="main"){if(u.s.iLeftColumns>0){u.dom.grid.left.liner.scrollTop=u.dom.scroller.scrollTop}if(u.s.iRightColumns>0){u.dom.grid.right.liner.scrollTop=u.dom.scroller.scrollTop}}});if(u.s.iLeftColumns>0){t(u.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){f="left"}).on("scroll.DTFC",function(){if(f==="left"){u.dom.scroller.scrollTop=u.dom.grid.left.liner.scrollTop;if(u.s.iRightColumns>0){u.dom.grid.right.liner.scrollTop=u.dom.grid.left.liner.scrollTop}}}).on("wheel.DTFC",function(e){var t=-e.originalEvent.deltaX;u.dom.scroller.scrollLeft-=t})}if(u.s.iRightColumns>0){t(u.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){f="right"}).on("scroll.DTFC",function(){if(f==="right"){u.dom.scroller.scrollTop=u.dom.grid.right.liner.scrollTop;if(u.s.iLeftColumns>0){u.dom.grid.left.liner.scrollTop=u.dom.grid.right.liner.scrollTop}}}).on("wheel.DTFC",function(e){var t=-e.originalEvent.deltaX;u.dom.scroller.scrollLeft-=t})}t(e).on("resize.DTFC",function(){u._fnGridLayout.call(u)});var l=true;var c=t(this.s.dt.nTable);c.on("draw.dt.DTFC",function(){u._fnDraw.call(u,l);l=false}).on("column-sizing.dt.DTFC",function(){u._fnColCalc();u._fnGridLayout(u)}).on("column-visibility.dt.DTFC",function(){u._fnColCalc();u._fnGridLayout(u);u._fnDraw(true)}).on("destroy.dt.DTFC",function(){c.off("column-sizing.dt.DTFC destroy.dt.DTFC draw.dt.DTFC");t(u.dom.scroller).off("scroll.DTFC mouseover.DTFC");t(e).off("resize.DTFC");t(u.dom.grid.left.liner).off("scroll.DTFC wheel.DTFC mouseover.DTFC");t(u.dom.grid.left.wrapper).remove();t(u.dom.grid.right.liner).off("scroll.DTFC wheel.DTFC mouseover.DTFC");t(u.dom.grid.right.wrapper).remove()});this._fnGridLayout();this.s.dt.oInstance.fnDraw(false)},_fnColCalc:function(){var e=this;var n=0;var r=0;this.s.aiInnerWidths=[];this.s.aiOuterWidths=[];t.each(this.s.dt.aoColumns,function(i,s){var o=t(s.nTh);if(!o.filter(":visible").length){e.s.aiInnerWidths.push(0);e.s.aiOuterWidths.push(0)}else{var u=o.outerWidth();if(e.s.aiOuterWidths.length===0){var a=t(e.s.dt.nTable).css("border-left-width");u+=typeof a==="string"?1:parseInt(a,10)}e.s.aiOuterWidths.push(u);e.s.aiInnerWidths.push(o.width());if(i<e.s.iLeftColumns){n+=u}if(e.s.iTableColumns-e.s.iRightColumns<=i){r+=u}}});this.s.iLeftWidth=n;this.s.iRightWidth=r},_fnGridSetup:function(){var e=this;var n=this._fnDTOverflow();var r;this.dom.body=this.s.dt.nTable;this.dom.header=this.s.dt.nTHead.parentNode;this.dom.header.parentNode.parentNode.style.position="relative";var i=t('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;">'+'<div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;">'+'<div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div>'+'<div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;">'+'<div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div>'+"</div>"+'<div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div>'+"</div>"+'<div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;">'+'<div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;">'+'<div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div>'+"</div>"+'<div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;">'+'<div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div>'+"</div>"+'<div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;">'+'<div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div>'+"</div>"+"</div>"+"</div>")[0];var s=i.childNodes[0];var o=i.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(i,this.dom.grid.dt);i.appendChild(this.dom.grid.dt);this.dom.grid.wrapper=i;if(this.s.iLeftColumns>0){this.dom.grid.left.wrapper=s;this.dom.grid.left.head=s.childNodes[0];this.dom.grid.left.body=s.childNodes[1];this.dom.grid.left.liner=t("div.DTFC_LeftBodyLiner",i)[0];i.appendChild(s)}if(this.s.iRightColumns>0){this.dom.grid.right.wrapper=o;this.dom.grid.right.head=o.childNodes[0];this.dom.grid.right.body=o.childNodes[1];this.dom.grid.right.liner=t("div.DTFC_RightBodyLiner",i)[0];r=t("div.DTFC_RightHeadBlocker",i)[0];r.style.width=n.bar+"px";r.style.right=-n.bar+"px";this.dom.grid.right.headBlock=r;r=t("div.DTFC_RightFootBlocker",i)[0];r.style.width=n.bar+"px";r.style.right=-n.bar+"px";this.dom.grid.right.footBlock=r;i.appendChild(o)}if(this.s.dt.nTFoot){this.dom.footer=this.s.dt.nTFoot.parentNode;if(this.s.iLeftColumns>0){this.dom.grid.left.foot=s.childNodes[2]}if(this.s.iRightColumns>0){this.dom.grid.right.foot=o.childNodes[2]}}},_fnGridLayout:function(){var e=this.dom.grid;var n=t(e.wrapper).width();var r=t(this.s.dt.nTable.parentNode).height();var i=t(this.s.dt.nTable.parentNode.parentNode).height();var s=this._fnDTOverflow();var o=this.s.iLeftWidth,u=this.s.iRightWidth,a;if(s.x){r-=s.bar}e.wrapper.style.height=i+"px";if(this.s.iLeftColumns>0){e.left.wrapper.style.width=o+"px";e.left.wrapper.style.height="1px";e.left.body.style.height=r+"px";if(e.left.foot){e.left.foot.style.top=(s.x?s.bar:0)+"px"}e.left.liner.style.width=o+s.bar+"px";e.left.liner.style.height=r+"px"}if(this.s.iRightColumns>0){a=n-u;if(s.y){a-=s.bar}e.right.wrapper.style.width=u+"px";e.right.wrapper.style.left=a+"px";e.right.wrapper.style.height="1px";e.right.body.style.height=r+"px";if(e.right.foot){e.right.foot.style.top=(s.x?s.bar:0)+"px"}e.right.liner.style.width=u+s.bar+"px";e.right.liner.style.height=r+"px";e.right.headBlock.style.display=s.y?"block":"none";e.right.footBlock.style.display=s.y?"block":"none"}},_fnDTOverflow:function(){var e=this.s.dt.nTable;var t=e.parentNode;var n={x:false,y:false,bar:this.s.dt.oScroll.iBarWidth};if(e.offsetWidth>t.clientWidth){n.x=true}if(e.offsetHeight>t.clientHeight){n.y=true}return n},_fnDraw:function(e){this._fnGridLayout();this._fnCloneLeft(e);this._fnCloneRight(e);if(this.s.fnDrawCallback!==null){this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right)}t(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(e){if(this.s.iRightColumns<=0){return}var t=this,n,r,i=[];for(n=this.s.iTableColumns-this.s.iRightColumns;n<this.s.iTableColumns;n++){if(this.s.dt.aoColumns[n].bVisible){i.push(n)}}this._fnClone(this.dom.clone.right,this.dom.grid.right,i,e)},_fnCloneLeft:function(e){if(this.s.iLeftColumns<=0){return}var t=this,n,r,i=[];for(n=0;n<this.s.iLeftColumns;n++){if(this.s.dt.aoColumns[n].bVisible){i.push(n)}}this._fnClone(this.dom.clone.left,this.dom.grid.left,i,e)},_fnCopyLayout:function(e,n){var r=[];var i=[];var s=[];for(var o=0,u=e.length;o<u;o++){var a=[];a.nTr=t(e[o].nTr).clone(true,true)[0];for(var f=0,l=this.s.iTableColumns;f<l;f++){if(t.inArray(f,n)===-1){continue}var c=t.inArray(e[o][f].cell,s);if(c===-1){var h=t(e[o][f].cell).clone(true,true)[0];i.push(h);s.push(e[o][f].cell);a.push({cell:h,unique:e[o][f].unique})}else{a.push({cell:i[c],unique:e[o][f].unique})}}r.push(a)}return r},_fnClone:function(e,n,r,i){var s=this,o,u,a,f,l,c,h,p,d,v,m,g;if(i){if(e.header!==null){e.header.parentNode.removeChild(e.header)}e.header=t(this.dom.header).clone(true,true)[0];e.header.className+=" DTFC_Cloned";e.header.style.width="100%";n.head.appendChild(e.header);v=this._fnCopyLayout(this.s.dt.aoHeader,r);m=t(">thead",e.header);m.empty();for(o=0,u=v.length;o<u;o++){m[0].appendChild(v[o].nTr)}this.s.dt.oApi._fnDrawHead(this.s.dt,v,true)}else{v=this._fnCopyLayout(this.s.dt.aoHeader,r);g=[];this.s.dt.oApi._fnDetectHeader(g,t(">thead",e.header)[0]);for(o=0,u=v.length;o<u;o++){for(a=0,f=v[o].length;a<f;a++){g[o][a].cell.className=v[o][a].cell.className;t("span.DataTables_sort_icon",g[o][a].cell).each(function(){this.className=t("span.DataTables_sort_icon",v[o][a].cell)[0].className})}}}this._fnEqualiseHeights("thead",this.dom.header,e.header);if(this.s.sHeightMatch=="auto"){t(">tbody>tr",s.dom.body).css("height","auto")}if(e.body!==null){e.body.parentNode.removeChild(e.body);e.body=null}e.body=t(this.dom.body).clone(true)[0];e.body.className+=" DTFC_Cloned";e.body.style.paddingBottom=this.s.dt.oScroll.iBarWidth+"px";e.body.style.marginBottom=this.s.dt.oScroll.iBarWidth*2+"px";if(e.body.getAttribute("id")!==null){e.body.removeAttribute("id")}t(">thead>tr",e.body).empty();t(">tfoot",e.body).remove();var y=t("tbody",e.body)[0];t(y).empty();if(this.s.dt.aiDisplay.length>0){var b=t(">thead>tr",e.body)[0];for(d=0;d<r.length;d++){h=r[d];p=t(this.s.dt.aoColumns[h].nTh).clone(true)[0];p.innerHTML="";var w=p.style;w.paddingTop="0";w.paddingBottom="0";w.borderTopWidth="0";w.borderBottomWidth="0";w.height=0;w.width=s.s.aiInnerWidths[h]+"px";b.appendChild(p)}t(">tbody>tr",s.dom.body).each(function(e){var n=this.cloneNode(false);n.removeAttribute("id");var i=s.s.dt.oFeatures.bServerSide===false?s.s.dt.aiDisplay[s.s.dt._iDisplayStart+e]:e;for(d=0;d<r.length;d++){var o=s.s.dt.aoData[i].anCells||s.s.dt.oApi._fnGetTdNodes(s.s.dt,i);h=r[d];if(o.length>0){p=t(o[h]).clone(true,true)[0];n.appendChild(p)}}y.appendChild(n)})}else{t(">tbody>tr",s.dom.body).each(function(e){p=this.cloneNode(true);p.className+=" DTFC_NoData";t("td",p).html("");y.appendChild(p)})}e.body.style.width="100%";e.body.style.margin="0";e.body.style.padding="0";if(i){if(typeof this.s.dt.oScroller!="undefined"){n.liner.appendChild(this.s.dt.oScroller.dom.force.cloneNode(true))}}n.liner.appendChild(e.body);this._fnEqualiseHeights("tbody",s.dom.body,e.body);if(this.s.dt.nTFoot!==null){if(i){if(e.footer!==null){e.footer.parentNode.removeChild(e.footer)}e.footer=t(this.dom.footer).clone(true,true)[0];e.footer.className+=" DTFC_Cloned";e.footer.style.width="100%";n.foot.appendChild(e.footer);v=this._fnCopyLayout(this.s.dt.aoFooter,r);var E=t(">tfoot",e.footer);E.empty();for(o=0,u=v.length;o<u;o++){E[0].appendChild(v[o].nTr)}this.s.dt.oApi._fnDrawHead(this.s.dt,v,true)}else{v=this._fnCopyLayout(this.s.dt.aoFooter,r);var S=[];this.s.dt.oApi._fnDetectHeader(S,t(">tfoot",e.footer)[0]);for(o=0,u=v.length;o<u;o++){for(a=0,f=v[o].length;a<f;a++){S[o][a].cell.className=v[o][a].cell.className}}}this._fnEqualiseHeights("tfoot",this.dom.footer,e.footer)}var x=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,t(">thead",e.header)[0]);t(x).each(function(e){h=r[e];this.style.width=s.s.aiInnerWidths[h]+"px"});if(s.s.dt.nTFoot!==null){x=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,t(">tfoot",e.footer)[0]);t(x).each(function(e){h=r[e];this.style.width=s.s.aiInnerWidths[h]+"px"})}},_fnGetTrNodes:function(e){var t=[];for(var n=0,r=e.childNodes.length;n<r;n++){if(e.childNodes[n].nodeName.toUpperCase()=="TR"){t.push(e.childNodes[n])}}return t},_fnEqualiseHeights:function(e,n,r){if(this.s.sHeightMatch=="none"&&e!=="thead"&&e!=="tfoot"){return}var i=this,s,o,u,a,f,l,c=n.getElementsByTagName(e)[0],h=r.getElementsByTagName(e)[0],p=t(">"+e+">tr:eq(0)",n).children(":first"),d=p.outerHeight()-p.height(),v=this._fnGetTrNodes(c),m=this._fnGetTrNodes(h),g=[];for(s=0,o=m.length;s<o;s++){f=v[s].offsetHeight;l=m[s].offsetHeight;u=l>f?l:f;if(this.s.sHeightMatch=="semiauto"){v[s]._DTTC_iHeight=u}g.push(u)}for(s=0,o=m.length;s<o;s++){m[s].style.height=g[s]+"px";v[s].style.height=g[s]+"px"}}};r.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"};r.version="3.0.1";t.fn.dataTable.FixedColumns=r;t.fn.DataTable.FixedColumns=r;return r};if(typeof define==="function"&&define.amd){define("datatables-fixedcolumns",["jquery","datatables"],r)}else if(jQuery&&!jQuery.fn.dataTable.FixedColumns){r(jQuery,jQuery.fn.dataTable)}})(window,document)