function tableToGrid(e,t){jQuery(e).each(function(){if(this.grid){return}jQuery(this).width("99%");var e=jQuery(this).width();var n=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this));var r=jQuery("tr td:first-child input[type=radio]:first",jQuery(this));var i=n.length>0;var s=!i&&r.length>0;var o=i||s;var u=[];var a=[];jQuery("th",jQuery(this)).each(function(){if(u.length===0&&o){u.push({name:"__selection__",index:"__selection__",width:0,hidden:true});a.push("__selection__")}else{u.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150});a.push(jQuery(this).html())}});var f=[];var l=[];var c=[];jQuery("tbody > tr",jQuery(this)).each(function(){var e={};var t=0;jQuery("td",jQuery(this)).each(function(){if(t===0&&o){var n=jQuery("input",jQuery(this));var r=n.attr("value");l.push(r||f.length);if(n.is(":checked")){c.push(r)}e[u[t].name]=n.attr("value")}else{e[u[t].name]=jQuery(this).html()}t++});if(t>0){f.push(e)}});jQuery(this).empty();jQuery(this).addClass("scroll");jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:e,colNames:a,colModel:u,multiselect:i},t||{}));var h;for(h=0;h<f.length;h++){var p=null;if(l.length>0){p=l[h];if(p&&p.replace){p=encodeURIComponent(p).replace(/[.\-%]/g,"_")}}if(p===null){p=h+1}jQuery(this).jqGrid("addRowData",p,f[h])}for(h=0;h<c.length;h++){jQuery(this).jqGrid("setSelection",c[h])}})}