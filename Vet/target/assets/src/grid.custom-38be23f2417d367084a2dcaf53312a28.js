(function(e){"use strict";e.jgrid.extend({getColProp:function(e){var t={},n=this[0];if(!n.grid){return false}var r=n.p.colModel,i;for(i=0;i<r.length;i++){if(r[i].name===e){t=r[i];break}}return t},setColProp:function(t,n){return this.each(function(){if(this.grid){if(n){var r=this.p.colModel,i;for(i=0;i<r.length;i++){if(r[i].name===t){e.extend(true,this.p.colModel[i],n);break}}}}})},sortGrid:function(e,t,n){return this.each(function(){var r=this,i=-1,s,o=false;if(!r.grid){return}if(!e){e=r.p.sortname}for(s=0;s<r.p.colModel.length;s++){if(r.p.colModel[s].index===e||r.p.colModel[s].name===e){i=s;if(r.p.frozenColumns===true&&r.p.colModel[s].frozen===true){o=r.grid.fhDiv.find("#"+r.p.id+"_"+e)}break}}if(i!==-1){var u=r.p.colModel[i].sortable;if(!o){o=r.grid.headers[i].el}if(typeof u!=="boolean"){u=true}if(typeof t!=="boolean"){t=false}if(u){r.sortData("jqgh_"+r.p.id+"_"+e,i,t,n,o)}}})},clearBeforeUnload:function(){return this.each(function(){var t=this.grid;if(e.isFunction(t.emptyRows)){t.emptyRows.call(this,true,true)}e(document).unbind("mouseup.jqGrid"+this.p.id);e(t.hDiv).unbind("mousemove");e(this).unbind();t.dragEnd=null;t.dragMove=null;t.dragStart=null;t.emptyRows=null;t.populate=null;t.populateVisible=null;t.scrollGrid=null;t.selectionPreserver=null;t.bDiv=null;t.cDiv=null;t.hDiv=null;t.cols=null;var n,r=t.headers.length;for(n=0;n<r;n++){t.headers[n].el=null}this.formatCol=null;this.sortData=null;this.updatepager=null;this.refreshIndex=null;this.setHeadCheckBox=null;this.constructTr=null;this.formatter=null;this.addXmlData=null;this.addJSONData=null;this.grid=null})},GridDestroy:function(){return this.each(function(){if(this.grid){if(this.p.pager){e(this.p.pager).remove()}try{e(this).jqGrid("clearBeforeUnload");e("#gbox_"+e.jgrid.jqID(this.id)).remove()}catch(t){}}})},GridUnload:function(){return this.each(function(){if(!this.grid){return}var t={id:e(this).attr("id"),cl:e(this).attr("class")};if(this.p.pager){e(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom")}var n=document.createElement("table");e(n).attr({id:t.id});n.className=t.cl;var r=e.jgrid.jqID(this.id);e(n).removeClass("ui-jqgrid-btable");if(e(this.p.pager).parents("#gbox_"+r).length===1){e(n).insertBefore("#gbox_"+r).show();e(this.p.pager).insertBefore("#gbox_"+r)}else{e(n).insertBefore("#gbox_"+r).show()}e(this).jqGrid("clearBeforeUnload");e("#gbox_"+r).remove()})},setGridState:function(t){return this.each(function(){if(!this.grid){return}var n=this;if(t==="hidden"){e(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+e.jgrid.jqID(n.p.id)).slideUp("fast");if(n.p.pager){e(n.p.pager).slideUp("fast")}if(n.p.toppager){e(n.p.toppager).slideUp("fast")}if(n.p.toolbar[0]===true){if(n.p.toolbar[1]==="both"){e(n.grid.ubDiv).slideUp("fast")}e(n.grid.uDiv).slideUp("fast")}if(n.p.footerrow){e(".ui-jqgrid-sdiv","#gbox_"+e.jgrid.jqID(n.p.id)).slideUp("fast")}e(".ui-jqgrid-titlebar-close span",n.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s");n.p.gridstate="hidden"}else if(t==="visible"){e(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+e.jgrid.jqID(n.p.id)).slideDown("fast");if(n.p.pager){e(n.p.pager).slideDown("fast")}if(n.p.toppager){e(n.p.toppager).slideDown("fast")}if(n.p.toolbar[0]===true){if(n.p.toolbar[1]==="both"){e(n.grid.ubDiv).slideDown("fast")}e(n.grid.uDiv).slideDown("fast")}if(n.p.footerrow){e(".ui-jqgrid-sdiv","#gbox_"+e.jgrid.jqID(n.p.id)).slideDown("fast")}e(".ui-jqgrid-titlebar-close span",n.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n");n.p.gridstate="visible"}})},filterToolbar:function(t){t=e.extend({autosearch:true,searchOnEnter:true,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:false,groupOp:"AND",defaultSearch:"bw",searchOperators:false,resetIcon:"x",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},e.jgrid.search,t||{});return this.each(function(){var n=this;if(this.ftoolbar){return}var r=function(){var r={},i=0,s,o,u={},a;e.each(n.p.colModel,function(){var f=e("#gs_"+e.jgrid.jqID(this.name),this.frozen===true&&n.p.frozenColumns===true?n.grid.fhDiv:n.grid.hDiv);o=this.index||this.name;if(t.searchOperators){a=f.parent().prev().children("a").attr("soper")||t.defaultSearch}else{a=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:this.stype==="select"?"eq":t.defaultSearch}s=this.stype==="custom"&&e.isFunction(this.searchoptions.custom_value)&&f.length>0&&f[0].nodeName.toUpperCase()==="SPAN"?this.searchoptions.custom_value.call(n,f.children(".customelement:first"),"get"):f.val();if(s||a==="nu"||a==="nn"){r[o]=s;u[o]=a;i++}else{try{delete n.p.postData[o]}catch(l){}}});var f=i>0?true:false;if(t.stringResult===true||n.p.datatype==="local"){var l='{"groupOp":"'+t.groupOp+'","rules":[';var c=0;e.each(r,function(e,t){if(c>0){l+=","}l+='{"field":"'+e+'",';l+='"op":"'+u[e]+'",';t+="";l+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';c++});l+="]}";e.extend(n.p.postData,{filters:l});e.each(["searchField","searchString","searchOper"],function(e,t){if(n.p.postData.hasOwnProperty(t)){delete n.p.postData[t]}})}else{e.extend(n.p.postData,r)}var h;if(n.p.searchurl){h=n.p.url;e(n).jqGrid("setGridParam",{url:n.p.searchurl})}var d=e(n).triggerHandler("jqGridToolbarBeforeSearch")==="stop"?true:false;if(!d&&e.isFunction(t.beforeSearch)){d=t.beforeSearch.call(n)}if(!d){e(n).jqGrid("setGridParam",{search:f}).trigger("reloadGrid",[{page:1}])}if(h){e(n).jqGrid("setGridParam",{url:h})}e(n).triggerHandler("jqGridToolbarAfterSearch");if(e.isFunction(t.afterSearch)){t.afterSearch.call(n)}},i=function(r){var i={},s=0,o;r=typeof r!=="boolean"?true:r;e.each(n.p.colModel,function(){var t,r=e("#gs_"+e.jgrid.jqID(this.name),this.frozen===true&&n.p.frozenColumns===true?n.grid.fhDiv:n.grid.hDiv);if(this.searchoptions&&this.searchoptions.defaultValue!==undefined){t=this.searchoptions.defaultValue}o=this.index||this.name;switch(this.stype){case"select":r.find("option").each(function(n){if(n===0){this.selected=true}if(e(this).val()===t){this.selected=true;return false}});if(t!==undefined){i[o]=t;s++}else{try{delete n.p.postData[o]}catch(u){}}break;case"text":r.val(t||"");if(t!==undefined){i[o]=t;s++}else{try{delete n.p.postData[o]}catch(a){}}break;case"custom":if(e.isFunction(this.searchoptions.custom_value)&&r.length>0&&r[0].nodeName.toUpperCase()==="SPAN"){this.searchoptions.custom_value.call(n,r.children(".customelement:first"),"set",t||"")}break}});var u=s>0?true:false;n.p.resetsearch=true;if(t.stringResult===true||n.p.datatype==="local"){var a='{"groupOp":"'+t.groupOp+'","rules":[';var f=0;e.each(i,function(e,t){if(f>0){a+=","}a+='{"field":"'+e+'",';a+='"op":"'+"eq"+'",';t+="";a+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';f++});a+="]}";e.extend(n.p.postData,{filters:a});e.each(["searchField","searchString","searchOper"],function(e,t){if(n.p.postData.hasOwnProperty(t)){delete n.p.postData[t]}})}else{e.extend(n.p.postData,i)}var l;if(n.p.searchurl){l=n.p.url;e(n).jqGrid("setGridParam",{url:n.p.searchurl})}var c=e(n).triggerHandler("jqGridToolbarBeforeClear")==="stop"?true:false;if(!c&&e.isFunction(t.beforeClear)){c=t.beforeClear.call(n)}if(!c){if(r){e(n).jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[{page:1}])}}if(l){e(n).jqGrid("setGridParam",{url:l})}e(n).triggerHandler("jqGridToolbarAfterClear");if(e.isFunction(t.afterClear)){t.afterClear()}},s=function(){var t=e("tr.ui-search-toolbar",n.grid.hDiv),r=n.p.frozenColumns===true?e("tr.ui-search-toolbar",n.grid.fhDiv):false;if(t.css("display")==="none"){t.show();if(r){r.show()}}else{t.hide();if(r){r.hide()}}},o=function(i,s,o){e("#sopt_menu").remove();s=parseInt(s,10);o=parseInt(o,10)+18;var u=e(".ui-jqgrid-view").css("font-size")||"11px";var a='<ul id="sopt_menu" class="ui-search-menu" role="menu" tabindex="0" style="font-size:'+u+";left:"+s+"px;top:"+o+'px;">',f=e(i).attr("soper"),l,c=[],h;var d=0,v=e(i).attr("colname"),m=n.p.colModel.length;while(d<m){if(n.p.colModel[d].name===v){break}d++}var g=n.p.colModel[d],y=e.extend({},g.searchoptions);if(!y.sopt){y.sopt=[];y.sopt[0]=g.stype==="select"?"eq":t.defaultSearch}e.each(t.odata,function(){c.push(this.oper)});for(d=0;d<y.sopt.length;d++){h=e.inArray(y.sopt[d],c);if(h!==-1){l=f===t.odata[h].oper?"ui-state-highlight":"";a+='<li class="ui-menu-item '+l+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+t.odata[h].oper+'" oper="'+t.operands[t.odata[h].oper]+'"><table cellspacing="0" cellpadding="0" border="0"><tr><td width="25px">'+t.operands[t.odata[h].oper]+"</td><td>"+t.odata[h].text+"</td></tr></table></a></li>"}}a+="</ul>";e("body").append(a);e("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all");e("#sopt_menu > li > a").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).click(function(s){var o=e(this).attr("value"),u=e(this).attr("oper");e(n).triggerHandler("jqGridToolbarSelectOper",[o,u,i]);e("#sopt_menu").hide();e(i).text(u).attr("soper",o);if(t.autosearch===true){var a=e(i).parent().next().children()[0];if(e(a).val()||o==="nu"||o==="nn"){r()}}})};var u=e("<tr class='ui-search-toolbar' role='rowheader'></tr>");var a;e.each(n.p.colModel,function(i){var s=this,o,f,l,c="",h="=",d,v,m=e("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+n.p.direction+"'></th>"),g=e("<div style='position:relative;height:100%;padding-right:0.3em;padding-left:0.3em;'></div>"),y=e("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear'></td></tr></table>");if(this.hidden===true){e(m).css("display","none")}this.search=this.search===false?false:true;if(this.stype===undefined){this.stype="text"}o=e.extend({},this.searchoptions||{});if(this.search){if(t.searchOperators){d=o.sopt?o.sopt[0]:s.stype==="select"?"eq":t.defaultSearch;for(v=0;v<t.odata.length;v++){if(t.odata[v].oper===d){h=t.operands[d]||"";break}}var b=o.searchtitle!=null?o.searchtitle:t.operandTitle;c="<a title='"+b+"' style='padding-right: 0.5em;' soper='"+d+"' class='soptclass' colname='"+this.name+"'>"+h+"</a>"}e("td:eq(0)",y).attr("colindex",i).append(c);if(o.clearSearch===undefined){o.clearSearch=true}if(o.clearSearch){var w=t.resetTitle||"Clear Search Value";e("td:eq(2)",y).append("<a title='"+w+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+t.resetIcon+"</a>")}else{e("td:eq(2)",y).hide()}switch(this.stype){case"select":f=this.surl||o.dataUrl;if(f){l=g;e(l).append(y);e.ajax(e.extend({url:f,dataType:"html",success:function(i){if(o.buildSelect!==undefined){var u=o.buildSelect(i);if(u){e("td:eq(1)",y).append(u)}}else{e("td:eq(1)",y).append(i)}if(o.defaultValue!==undefined){e("select",l).val(o.defaultValue)}e("select",l).attr({name:s.index||s.name,id:"gs_"+s.name});if(o.attr){e("select",l).attr(o.attr)}e("select",l).css({width:"100%"});e.jgrid.bindEv.call(n,e("select",l)[0],o);if(t.autosearch===true){e("select",l).change(function(){r();return false})}i=null}},e.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}))}else{var E,S,x;if(s.searchoptions){E=s.searchoptions.value===undefined?"":s.searchoptions.value;S=s.searchoptions.separator===undefined?":":s.searchoptions.separator;x=s.searchoptions.delimiter===undefined?";":s.searchoptions.delimiter}else if(s.editoptions){E=s.editoptions.value===undefined?"":s.editoptions.value;S=s.editoptions.separator===undefined?":":s.editoptions.separator;x=s.editoptions.delimiter===undefined?";":s.editoptions.delimiter}if(E){var T=document.createElement("select");T.style.width="100%";e(T).attr({name:s.index||s.name,id:"gs_"+s.name});var N,C,k,L;if(typeof E==="string"){d=E.split(x);for(L=0;L<d.length;L++){N=d[L].split(S);C=document.createElement("option");C.value=N[0];C.innerHTML=N[1];T.appendChild(C)}}else if(typeof E==="object"){for(k in E){if(E.hasOwnProperty(k)){C=document.createElement("option");C.value=k;C.innerHTML=E[k];T.appendChild(C)}}}if(o.defaultValue!==undefined){e(T).val(o.defaultValue)}if(o.attr){e(T).attr(o.attr)}e(g).append(y);e.jgrid.bindEv.call(n,T,o);e("td:eq(1)",y).append(T);if(t.autosearch===true){e(T).change(function(){r();return false})}}}break;case"text":var A=o.defaultValue!==undefined?o.defaultValue:"";e("td:eq(1)",y).append("<input type='text' style='width:100%;padding:0px;' name='"+(s.index||s.name)+"' id='gs_"+s.name+"' value='"+A+"'/>");e(g).append(y);if(o.attr){e("input",g).attr(o.attr)}e.jgrid.bindEv.call(n,e("input",g)[0],o);if(t.autosearch===true){if(t.searchOnEnter){e("input",g).keypress(function(e){var t=e.charCode||e.keyCode||0;if(t===13){r();return false}return this})}else{e("input",g).keydown(function(e){var t=e.which;switch(t){case 13:return false;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:if(a){clearTimeout(a)}a=setTimeout(function(){r()},500)}})}}break;case"custom":e("td:eq(1)",y).append("<span style='width:95%;padding:0px;' name='"+(s.index||s.name)+"' id='gs_"+s.name+"'/>");e(g).append(y);try{if(e.isFunction(o.custom_element)){var O=o.custom_element.call(n,o.defaultValue!==undefined?o.defaultValue:"",o);if(O){O=e(O).addClass("customelement");e(g).find(">span").append(O)}else{throw"e2"}}else{throw"e1"}}catch(M){if(M==="e1"){e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose)}if(M==="e2"){e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose)}else{e.jgrid.info_dialog(e.jgrid.errors.errcap,typeof M==="string"?M:M.message,e.jgrid.edit.bClose)}}break}}e(m).append(g);e(u).append(m);if(!t.searchOperators){e("td:eq(0)",y).hide()}});e("table thead",n.grid.hDiv).append(u);if(t.searchOperators){e(".soptclass",u).click(function(t){var n=e(this).offset(),r=n.left,i=n.top;o(this,r,i);t.stopPropagation()});e("body").on("click",function(t){if(t.target.className!=="soptclass"){e("#sopt_menu").hide()}})}e(".clearsearchclass",u).click(function(i){var s=e(this).parents("tr:first"),o=parseInt(e("td.ui-search-oper",s).attr("colindex"),10),u=e.extend({},n.p.colModel[o].searchoptions||{}),a=u.defaultValue?u.defaultValue:"";if(n.p.colModel[o].stype==="select"){if(a){e("td.ui-search-input select",s).val(a)}else{e("td.ui-search-input select",s)[0].selectedIndex=0}}else{e("td.ui-search-input input",s).val(a)}if(t.autosearch===true){r()}});this.ftoolbar=true;this.triggerToolbar=r;this.clearToolbar=i;this.toggleToolbar=s})},destroyFilterToolbar:function(){return this.each(function(){if(!this.ftoolbar){return}this.triggerToolbar=null;this.clearToolbar=null;this.toggleToolbar=null;this.ftoolbar=false;e(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove()})},destroyGroupHeader:function(t){if(t===undefined){t=true}return this.each(function(){var n=this,r,i,s,o,u,a,f=n.grid,l=e("table.ui-jqgrid-htable thead",f.hDiv),c=n.p.colModel,h;if(!f){return}e(this).unbind(".setGroupHeaders");r=e("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels");o=f.headers;for(i=0,s=o.length;i<s;i++){h=c[i].hidden?"none":"";u=e(o[i].el).width(o[i].width).css("display",h);try{u.removeAttr("rowSpan")}catch(p){u.attr("rowSpan",1)}r.append(u);a=u.children("span.ui-jqgrid-resize");if(a.length>0){a[0].style.height=""}u.children("div")[0].style.top=""}e(l).children("tr.ui-jqgrid-labels").remove();e(l).prepend(r);if(t===true){e(n).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(t){t=e.extend({useColSpanStyle:false,groupHeaders:[]},t||{});return this.each(function(){this.p.groupHeader=t;var n=this,r,i,s=0,u,a,f,l,c,h,p,d,v,m,g=n.p.colModel,y=g.length,b=n.grid.headers,w=e("table.ui-jqgrid-htable",n.grid.hDiv),E=w.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),S=w.children("thead"),x,T=w.find(".jqg-first-row-header");if(T[0]===undefined){T=e("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto")}else{T.empty()}var N,C=function(e,t){var n=t.length,r;for(r=0;r<n;r++){if(t[r].startColumnName===e){return r}}return-1};e(n).prepend(S);u=e("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header");for(r=0;r<y;r++){f=b[r].el;l=e(f);i=g[r];c={height:"0px",width:b[r].width+"px",display:i.hidden?"none":""};e("<th>",{role:"gridcell"}).css(c).addClass("ui-first-th-"+n.p.direction).appendTo(T);f.style.width="";h=C(i.name,t.groupHeaders);if(h>=0){p=t.groupHeaders[h];d=p.numberOfColumns;v=p.titleText;for(m=0,h=0;h<d&&r+h<y;h++){if(!g[r+h].hidden){m++}}a=e("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+n.p.direction).css({height:"22px","border-top":"0 none"}).html(v);if(m>0){a.attr("colspan",String(m))}if(n.p.headertitles){a.attr("title",a.text())}if(m===0){a.hide()}l.before(a);u.append(f);s=d-1}else{if(s===0){if(t.useColSpanStyle){l.attr("rowspan","2")}else{e("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+n.p.direction).css({display:i.hidden?"none":"","border-top":"0 none"}).insertBefore(l);u.append(f)}}else{u.append(f);s--}}}x=e(n).children("thead");x.prepend(T);u.insertAfter(E);w.append(x);if(t.useColSpanStyle){w.find("span.ui-jqgrid-resize").each(function(){var t=e(this).parent();if(t.is(":visible")){this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;"}});w.find("div.ui-jqgrid-sortable").each(function(){var t=e(this),n=t.parent();if(n.is(":visible")&&n.is(":has(span.ui-jqgrid-resize)")){t.css("top",(n.height()-t.outerHeight())/2+"px")}})}N=x.find("tr.jqg-first-row-header");e(n).bind("jqGridResizeStop.setGroupHeaders",function(e,t,n){N.find("th").eq(n).width(t)})})},setFrozenColumns:function(){return this.each(function(){if(!this.grid){return}var t=this,n=t.p.colModel,r=0,i=n.length,s=-1,o=false;if(t.p.subGrid===true||t.p.treeGrid===true||t.p.cellEdit===true||t.p.sortable||t.p.scroll){return}if(t.p.rownumbers){r++}if(t.p.multiselect){r++}while(r<i){if(n[r].frozen===true){o=true;s=r}else{break}r++}if(s>=0&&o){var u=t.p.caption?e(t.grid.cDiv).outerHeight():0,a=e(".ui-jqgrid-htable","#gview_"+e.jgrid.jqID(t.p.id)).height();if(t.p.toppager){u=u+e(t.grid.topDiv).outerHeight()}if(t.p.toolbar[0]===true){if(t.p.toolbar[1]!=="bottom"){u=u+e(t.grid.uDiv).outerHeight()}}t.grid.fhDiv=e('<div style="position:absolute;left:0px;top:'+u+"px;height:"+a+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"></div>');t.grid.fbDiv=e('<div style="position:absolute;left:0px;top:'+(parseInt(u,10)+parseInt(a,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>');e("#gview_"+e.jgrid.jqID(t.p.id)).append(t.grid.fhDiv);var f=e(".ui-jqgrid-htable","#gview_"+e.jgrid.jqID(t.p.id)).clone(true);if(t.p.groupHeader){e("tr.jqg-first-row-header, tr.jqg-third-row-header",f).each(function(){e("th:gt("+s+")",this).remove()});var l=-1,c=-1,h,p;e("tr.jqg-second-row-header th",f).each(function(){h=parseInt(e(this).attr("colspan"),10);p=parseInt(e(this).attr("rowspan"),10);if(p){l++;c++}if(h){l=l+h;c++}if(l===s){return false}});if(l!==s){c=s}e("tr.jqg-second-row-header",f).each(function(){e("th:gt("+c+")",this).remove()})}else{e("tr",f).each(function(){e("th:gt("+s+")",this).remove()})}e(f).width(1);e(t.grid.fhDiv).append(f).mousemove(function(e){if(t.grid.resizing){t.grid.dragMove(e);return false}});e(t).bind("jqGridResizeStop.setFrozenColumns",function(n,r,i){var s=e(".ui-jqgrid-htable",t.grid.fhDiv);e("th:eq("+i+")",s).width(r);var o=e(".ui-jqgrid-btable",t.grid.fbDiv);e("tr:first td:eq("+i+")",o).width(r)});e(t).bind("jqGridSortCol.setFrozenColumns",function(n,r,i){var s=e("tr.ui-jqgrid-labels:last th:eq("+t.p.lastsort+")",t.grid.fhDiv),o=e("tr.ui-jqgrid-labels:last th:eq("+i+")",t.grid.fhDiv);e("span.ui-grid-ico-sort",s).addClass("ui-state-disabled");e(s).attr("aria-selected","false");e("span.ui-icon-"+t.p.sortorder,o).removeClass("ui-state-disabled");e(o).attr("aria-selected","true");if(!t.p.viewsortcols[0]){if(t.p.lastsort!==i){e("span.s-ico",s).hide();e("span.s-ico",o).show()}}});e("#gview_"+e.jgrid.jqID(t.p.id)).append(t.grid.fbDiv);e(t.grid.bDiv).scroll(function(){e(t.grid.fbDiv).scrollTop(e(this).scrollTop())});if(t.p.hoverrows===true){e("#"+e.jgrid.jqID(t.p.id)).unbind("mouseover").unbind("mouseout")}e(t).bind("jqGridAfterGridComplete.setFrozenColumns",function(){e("#"+e.jgrid.jqID(t.p.id)+"_frozen").remove();e(t.grid.fbDiv).height(e(t.grid.bDiv).height()-16);var n=e("#"+e.jgrid.jqID(t.p.id)).clone(true);e("tr[role=row]",n).each(function(){e("td[role=gridcell]:gt("+s+")",this).remove()});e(n).width(1).attr("id",t.p.id+"_frozen");e(t.grid.fbDiv).append(n);if(t.p.hoverrows===true){e("tr.jqgrow",n).hover(function(){e(this).addClass("ui-state-hover");e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover");e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)).removeClass("ui-state-hover")});e("tr.jqgrow","#"+e.jgrid.jqID(t.p.id)).hover(function(){e(this).addClass("ui-state-hover");e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)+"_frozen").addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover");e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)+"_frozen").removeClass("ui-state-hover")})}n=null});if(!t.grid.hDiv.loading){e(t).triggerHandler("jqGridAfterGridComplete")}t.p.frozenColumns=true}})},destroyFrozenColumns:function(){return this.each(function(){if(!this.grid){return}if(this.p.frozenColumns===true){var t=this;e(t.grid.fhDiv).remove();e(t.grid.fbDiv).remove();t.grid.fhDiv=null;t.grid.fbDiv=null;e(this).unbind(".setFrozenColumns");if(t.p.hoverrows===true){var n;e("#"+e.jgrid.jqID(t.p.id)).bind("mouseover",function(t){n=e(t.target).closest("tr.jqgrow");if(e(n).attr("class")!=="ui-subgrid"){e(n).addClass("ui-state-hover")}}).bind("mouseout",function(t){n=e(t.target).closest("tr.jqgrow");e(n).removeClass("ui-state-hover")})}this.p.frozenColumns=false}})}})})(jQuery)